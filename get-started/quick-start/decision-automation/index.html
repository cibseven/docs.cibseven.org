<!DOCTYPE html>
<html class="no-js">
<head>
  
  <meta charset="utf-8" />

  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <meta name="viewport" content="width=device-width" />

  <meta name="description" content="documentation of CIB seven" />
  <meta name="keywords" content="camunda, cib seven, open source, free, Apache License, Apache 2.0, workflow, BPMN, BPMN 2.0, camunda.org, bpm, BPMS, engine, platform, process, automation, community, documentation" />
  <meta name="author" content="CIB software, CIB seven community" />
  

  <title>Leverage business rules (6/6) | docs.cibseven.org</title>

  <meta name="generator" content="Hugo 0.136.4">
  <link rel="shortcut icon" href="/get-started/img/favicon.ico" type="image/x-icon" />

  

  <link rel="stylesheet" href="/get-started/css/docs.4514ad9d3348b03834bdeeb55c9ba0c48ac8456db7fba0ef125ec832d89ed339.css" integrity="sha256-RRStnTNIsDg0ve61XJugxIrIRW23&#43;6DvEl7IMtie0zk=">
  <link rel="canonical" href="/get-started/quick-start/decision-automation/" />
</head>
<body class="">

<nav class="navbar navbar-fixed-top">
  <div class="navbar-container">
    <div class="navbar-header">
      <a href="/" id="logolink">
      <img src="/get-started/img/logo.png" style="padding:0 5px 7px 0;max-width:75%">
        <span class="site-name">Docs</span>
      </a>
    </div>

    <ul class="header-menu">
      
      <li  class="active"  ><a href="/get-started">Get Started</a></li>
      
      <li  ><a href="/manual">CIB seven</a></li>
      
      <li  ><a href="/security">Security</a></li>
      
    </ul>

    <button class="site-menu-toggle">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="search-field">
      <input type="search" class="search-input" placeholder="Searchâ€¦" />
    </div>

    <ul class="external-menu">
      <li class="external"><a href="https://cibseven.org">cibseven.org</a></li>
    </ul>
  </div>
</nav>

<div class="search-results">
  <ul class="results-list">
  </ul>
  <footer>
    <button class="btn btn-default page previous">
      <span class="glyphicon glyphicon-chevron-left"></span>
    </button>

    <button class="search-close btn btn-default">
      <span class="glyphicon glyphicon-remove"></span>
    </button>

    <button class="btn btn-default page next">
      <span class="glyphicon glyphicon-chevron-right"></span>
    </button>
  </footer>
</div>

<div class="search-underlay"></div>

<nav class="site-menu">
  





<ul class="site-menu-items">
  
    
  <li>
    
      <a href="/get-started/quick-start/" >Quick Start (Java / JS)</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/quick-start/install/" >Download and Installation</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/service-task/" >Executable Process</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/deploy/" >Deploy the Process</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/user-task/" >Involve Humans</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/gateway/" >Make It Dynamic</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/decision-automation/" >Decision Automation</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/get-started/spring-boot/" >Spring Boot</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/spring-boot/project-setup/" >Project Setup</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/spring-boot/configuration/" >Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/spring-boot/model/" >Model a Process</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/get-started/dmn/" >DMN</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/dmn/install/" >Download and Installation</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/project-setup/" >Project Setup</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/model/" >Create a Decision Table</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/deploy/" >Evaluate and Deploy the Decision Table</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/drg/" >Decision Requirements Graph</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/get-started/apache-maven/" >Maven Coordinates</a>
    
  </li>

  
</ul>


</nav>

<div class="page-wrapper">


<div class="page-content">
  <div class="container-fluid">
    <div class="col-xs-12 content-header">
      <h1 class="page-title">Leverage business rules (6/6)</h1>
    </div>

    <div class="col-xs-12 content-text">
      <p>In this section, you&rsquo;ll learn how to add decision automation to your process by using <a href="/manual/latest/reference/bpmn20/tasks/business-rule-task/">BPMN 2.0 <em>Business Rule Tasks</em></a> and <a href="/manual/latest/reference/dmn11/">DMN 1.3 Decision Tables</a>.</p>
<h1 id="add-a-business-rule-task-to-the-process">Add a Business Rule Task to the Process</h1>
<p>Use the Camunda Modeler to open the Payment Retrieval process then click on the Approve Payment Task. Change the activity type to <em>Business Rule Task</em> in the wrench button menu.</p>
<figure class="image">
  <span><img
      src="../img/modeler-businessrule-task1.png"
       /></span>
</figure>

<p>Next, link the Business Rule Task to a DMN table by changing <code>Implementation</code> to <code>DMN</code> and <code>Decision Ref</code> to <code>approve-payment</code> in the properties panel. In order to retrieve the result of the evaluation and save it automatically as a process instance variable in our process, we also need to change the <code>Result Variable</code> to <code>approved</code> and use <code>singleEntry</code> as the <code>Map Decision Result</code> in the properties panel.</p>
<figure class="image">
  <span><img
      src="../img/modeler-businessrule-task2.png"
       /></span>
</figure>

<p>Save your changes and deploy the updated process using the <code>Deploy</code> Button in the Camunda Modeler.</p>
<h1 id="create-a-dmn-table-using-the-camunda-modeler">Create a DMN table using the Camunda Modeler</h1>
<p>First, create a new DMN diagram by clicking <em>File &gt; New File &gt; DMN Diagram (Camunda 7)</em>.
<figure class="image">
  <span><img
      src="../img/modeler-new-dmn-diagram.png"
       /></span>
</figure>
</p>
<p>Now the newly created diagram will already have a decision element added to it. Select it by clicking it and then give it a name of <em>Approve Payment</em> and an ID of <code>approve-payment</code> (the decision ID must match the the <code>Decision Ref</code> in your BPMN process).
<figure class="image">
  <span><img
      src="../img/modeler-new-dmn-diagram-properties.png"
       /></span>
</figure>
</p>
<p>Next, create a new DMN table by clicking the table button.
<figure class="image">
  <span><img
      src="../img/modeler-new-dmn-table.png"
       /></span>
</figure>
</p>
<h1 id="specify-the-dmn-table">Specify the DMN table</h1>
<p>First, specify the input expressions for the DMN table. In this example, we&rsquo;ll decide whether a payment is approved based on the item name. Your rules can also make use of the FEEL Expression Language, JUEL or Script. If you like, you can <a href="/manual/latest/user-guide/dmn-engine/expressions-and-scripts/">read more about Expressions in the DMN Engine</a>.</p>
<p>Double click <em>Input</em> to configure the input column. Use <code>Item</code> as the <em>Input Label</em> and <code>item</code> as the <em>Input Expression</em>:
<figure class="image">
  <span><img
      src="../img/modeler-dmn2.png"
       /></span>
</figure>
</p>
<p>Next, set up the output column. Use <code>Approved</code> as the <em>Output Label</em> and <code>approved</code> as the <em>Output Name</em> for the output column &ldquo;Approved&rdquo;:
<figure class="image">
  <span><img
      src="../img/modeler-dmn3.png"
       /></span>
</figure>
</p>
<p>Let&rsquo;s create some rules by clicking on the plus icon on the left side of the DMN table. We should also change the Output Column to the Data Type <code>boolean</code>:
<figure class="image">
  <span><img
      src="../img/modeler-dmn4.png"
       /></span>
</figure>
</p>
<p>After setup, your DMN table should look like this:
<figure class="image">
  <span><img
      src="../img/modeler-dmn5.png"
       /></span>
</figure>
</p>
<h1 id="deploy-the-dmn-table">Deploy the DMN table</h1>
<p>To deploy the Decision Table, click on the Deploy button in the Camunda Modeler, give it Deployment Name &ldquo;Payment Retrieval Decision&rdquo;, then hit the Deploy button.
<figure class="image">
  <span><img
      src="../img/modeler-dmn6.png"
       /></span>
</figure>
</p>
<h1 id="verify-the-deployment-with-cockpit">Verify the Deployment with Cockpit</h1>
<p>Now, use Cockpit to see if the decision table was successfully deployed. Go to <a href="http://localhost:8080/camunda/app/cockpit/">http://localhost:8080/camunda/app/cockpit/</a>. Log in with the credentials <em>demo / demo</em>. Navigate to the &ldquo;Decisions&rdquo; section. Your decision table <em>Approve Payment</em> should be listed as deployed decision definition.</p>
<figure class="image">
  <span><img
      src="../img/cockpit-approve-payment.png"
       /></span>
</figure>

<h1 id="inspect-using-cockpit-and-tasklist">Inspect using Cockpit and Tasklist</h1>
<p>Next, use Tasklist to start two new Process Instances and verify that depending on your input, the Process Instance will be routed differently.
To do so, go to <a href="http://localhost:8080/camunda/app/tasklist/">http://localhost:8080/camunda/app/tasklist/</a>. Log in with <em>demo / demo</em>.</p>
<p>Click on the <button class="btn btn-xs">
  <i class="glyphicon glyphicon-list-alt" ></i> Start process
</button>
 button to start a process instance and choose the <code>Payment</code> process.
Use the generic form to add the variables as follows:
<figure class="image">
  <span><img
      src="../img/tasklist-dmn1.png"
       /></span>
</figure>
</p>
<p>Hit the Start Instance button.</p>
<p>Next, click again on the <button class="btn btn-xs">
  <i class="glyphicon glyphicon-list-alt" ></i> Start process
</button>
 button to start another process instance and choose the <code>Payment</code> process.
Use the generic form to add the variables as follows:
<figure class="image">
  <span><img
      src="../img/tasklist-dmn2.png"
       /></span>
</figure>
</p>
<p>You&rsquo;ll see that depending on the input, the worker will either charge or not charge the credit card.
You can also verify that the DMN tables were evaluated by using Camunda Cockpit. Go to <a href="http://localhost:8080/camunda/app/cockpit/">http://localhost:8080/camunda/app/cockpit/</a>. Log in with the credentials <em>demo / demo</em>. Navigate to the &ldquo;Decisions&rdquo; section and click on Approve Payment. Check the different Decision Instances that were evaluated by clicking on the ID in the table.</p>
<p>A single DMN table that was executed could look like this in Camunda Cockpit:
<figure class="image">
  <span><img
      src="../img/cockpit-dmn-table.png"
       /></span>
</figure>
</p>

<div class="note bg-info docs-info">
  <h3>Success!</h3>
  <p>Congratulations! You&rsquo;ve successfully completed the CIB seven Platform Quick Start. Ready to continue? We recommend the <a href="/manual/latest/">Platform documentation</a>.</p>
</div>


<div class="panel-group gs-download-step-panel" id="gitStep-5">
  <div class="panel panel-success">
    <div class="panel-heading">
      <div class="pull-right">
        <a class="btn btn-success gs-download-step-btn" href="https://github.com/cibseven/cibseven-get-started-quickstart/archive/Step-5.zip">
          <span i class="glyphicon glyphicon-download-alt"></span>
          Source Code Step-5
        </a>
      </div>
      <h4>Catch up: Get the Sources of Step-5.</h4>
      <p class="text-muted">
        <a href="https://github.com/cibseven/cibseven-get-started-quickstart/archive/Step-5.zip">Download as .zip</a>
        or checkout the corresponding tag with <a class="toggle-instructions">Git</a>.
      </p>
    </div>
    <div class="panel-body">
      <p>You can checkout the current state from the <a href="https://github.com/cibseven/cibseven-get-started-quickstart">GitHub repository</a>.</p>
      <p>If you have not cloned the repository yet, please execute the following command:
      <pre class="console">git clone https://github.com/cibseven/cibseven-get-started-quickstart.git</pre>
      </p>
      <p>
      To checkout the current state of the process application please execute the following command:
      <pre class="console">git checkout -f Step-5</pre>
      Or download as archive from <a href="https://github.com/cibseven/cibseven-get-started-quickstart/releases/tag/Step-5">here</a>.
      </p>
    </div>
  </div>
</div>


    </div>
  </div>
</div>

<div class="page-toc">
  <h3>On this Page:</h3>
  <nav id="TableOfContents"></nav>
  <div class="docs-banner" style="display:none">
 :(
</div>

</div>


    
    <footer class="page-footer">
      <div class="row">
        <div class="col-xs-12">

          <p class="pull-right">
            <a href="#" target="_self">Back to top</a>
          </p>

          <p>
            <a href="http://cibseven.org">cibseven.org</a> and <a href="http://docs.cibseven.org">docs.cibseven.org</a> are part of CIB seven project â€” <a href="https://www.cib.de/en/privacy-policy/">Privacy Statement</a> â€“ <a href="https://www.cib.de/en/legal-advice/">CIB software GmbH</a>
            <br/>The CIB seven documentation is based on <a href="https://docs.camunda.org/">Camunda 7 Docs</a> from Camunda. Some redesign & naming adoptation was made.
          </p>
          <p>
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a> The content on this site is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
          </p>
        </div>
      </div>
    </footer>
  </div>


  

  <script type="text/javascript" src="/get-started/js/docs.39f584f7385fbb9e5e3c39b5e3aa08ef6edc341004893361450d669a3dab2ffd.js" integrity="sha256-OfWE9zhfu55ePDm146oI727cNBAEiTNhRQ1mmj2rL/0="></script>
</body>
</html>

