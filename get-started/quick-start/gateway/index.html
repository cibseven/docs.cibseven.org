<!DOCTYPE html>
<html class="no-js">
<head>
  
  <meta charset="utf-8" />

  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <meta name="viewport" content="width=device-width" />

  <meta name="description" content="documentation of CIB seven" />
  <meta name="keywords" content="camunda, cib seven, open source, free, Apache License, Apache 2.0, workflow, BPMN, BPMN 2.0, camunda.org, bpm, BPMS, engine, platform, process, automation, community, documentation" />
  <meta name="author" content="CIB software, CIB seven community" />
  

  <title>Add Gateways to the Process (5/6) | docs.cibseven.org</title>

  <meta name="generator" content="Hugo 0.136.4">
  <link rel="shortcut icon" href="/get-started/img/favicon.ico" type="image/x-icon" />

  

  <link rel="stylesheet" href="/get-started/css/docs.c40f5ea9c68c995ecce1061c670144b2e44ee8f1198ad028f8755801b39ba02c.css" integrity="sha256-xA9eqcaMmV7M4QYcZwFEsuRO6PEZitAo&#43;HVYAbOboCw=">
  <link rel="canonical" href="/get-started/quick-start/gateway/" />
</head>
<body class="">

<nav class="navbar navbar-fixed-top">
  <div class="navbar-container">
    <div class="navbar-header">
      <a href="/">
      <img src="/get-started/img/logo.png" style="padding:0 5px 7px 0;max-width:75%">
        <span class="site-name">Docs</span>
      </a>
    </div>

    <ul class="header-menu">
      
      <li  class="active"  ><a href="/get-started">Get Started</a></li>
      
      <li  ><a href="/manual">CIB seven</a></li>
      
      <li  ><a href="/security">Security</a></li>
      
    </ul>

    <button class="site-menu-toggle">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="search-field">
      <input type="search" class="search-input" placeholder="Search…" />
    </div>

    <ul class="external-menu">
      <li class="external"><a href="https://cibseven.org">cibseven.org</a></li>
    </ul>
  </div>
</nav>

<div class="search-results">
  <ul class="results-list">
  </ul>
  <footer>
    <button class="btn btn-default page previous">
      <span class="glyphicon glyphicon-chevron-left"></span>
    </button>

    <button class="search-close btn btn-default">
      <span class="glyphicon glyphicon-remove"></span>
    </button>

    <button class="btn btn-default page next">
      <span class="glyphicon glyphicon-chevron-right"></span>
    </button>
  </footer>
</div>

<div class="search-underlay"></div>

<nav class="site-menu">
  



<div class="version">
  
</div>

<ul class="site-menu-items">
  
    
  <li>
    
      <a href="/get-started/quick-start/" >Quick Start (Java / JS)</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/quick-start/install/" >Download and Installation</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/service-task/" >Executable Process</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/deploy/" >Deploy the Process</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/user-task/" >Involve Humans</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/gateway/" >Make It Dynamic</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/decision-automation/" >Decision Automation</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/get-started/spring-boot/" >Spring Boot</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/spring-boot/project-setup/" >Project Setup</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/spring-boot/configuration/" >Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/spring-boot/model/" >Model a Process</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/get-started/dmn/" >DMN</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/dmn/install/" >Download and Installation</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/project-setup/" >Project Setup</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/model/" >Create a Decision Table</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/deploy/" >Evaluate and Deploy the Decision Table</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/drg/" >Decision Requirements Graph</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/get-started/apache-maven/" >Maven Coordinates</a>
    
  </li>

  
</ul>


<div class="meta">
  <h4 class="header">
    <span class="toggle glyphicon glyphicon-chevron-up"></span>
    Options
  </h4>

  <div class="content">
    <label for="version-select">Version:</label>
    <select id="version-select" data-basepath="/get-started" base-url="/get-started/">
      
    </select>
  </div>
</div>



</nav>


<div class="page-wrapper">


<div class="page-content">
  <div class="container-fluid">
    <div class="col-xs-12 content-header">
      <h1 class="page-title">Add Gateways to the Process (5/6)</h1>
    </div>

    <div class="col-xs-12 content-text">
      <p>In this section, you&rsquo;ll learn how to make your process more dynamic by using BPMN 2.0 <em>Exclusive Gateways</em>.</p>
<h1 id="add-two-gateways">Add Two Gateways</h1>
<p>We want to modify our process so that it&rsquo;s more dynamic.</p>
<p>To do so, open the process in the Camunda Modeler.</p>
<p>Next, from the Modeler&rsquo;s left-hand menu, select the gateway shape (diamond) and drag it into position between the Start Event and the Service Task. Use the create space tool again as needed. Move the User Task down and add another Gateway after it. Lastly, adjust the Sequence Flows so that the model looks like this:
<figure class="image">
  <span><img
      src="../img/modeler-gateway1.png"
       /></span>
</figure>
</p>
<p>Now also name the new elements accordingly:
<figure class="image">
  <span><img
      src="../img/modeler-gateway2.png"
       /></span>
</figure>
</p>
<h1 id="configure-the-gateways">Configure the Gateways</h1>
<p>Next, open the properties panel and select the <code>&lt;1000 €</code> Sequence Flow after the Gateway on the canvas. This will update the selection in the properties panel.
Scroll to the property named <code>Condition Type</code> and change it to <code>Expression</code>. Then input <code>${amount&lt;1000}</code> as the Expression.
We are using the <a href="https://docs.camunda.org/manual/latest/user-guide/process-engine/expression-language/">Java Unified Expression Language</a> to evaluate the Gateway.</p>
<figure class="image">
  <span><img
      src="../img/modeler-gateway3.png"
       /></span>
</figure>

<p>Next, change the Expressions for the other Sequence Flows, too.</p>
<p>For the <code>&gt;=1000 €</code> Sequence Flow, use the Expression <code>${amount&gt;=1000}</code>:
<figure class="image">
  <span><img
      src="../img/modeler-gateway4.png"
       /></span>
</figure>
</p>
<p>For the <code>Yes</code> Sequence Flow, use the Expression <code>${approved}</code>:
<figure class="image">
  <span><img
      src="../img/modeler-gateway5.png"
       /></span>
</figure>
</p>
<p>For the <code>No</code> Sequence Flow, use the Expression <code>${!approved}</code>:
<figure class="image">
  <span><img
      src="../img/modeler-gateway6.png"
       /></span>
</figure>
</p>
<h1 id="deploy-the-process">Deploy the Process</h1>
<p>Use the <code>Deploy</code> Button in the Camunda Modeler to deploy the updated process to Camunda.</p>
<h1 id="work-on-the-task">Work on the Task</h1>
<p>Go to Tasklist (<a href="http://localhost:8080/camunda/app/tasklist/">http://localhost:8080/camunda/app/tasklist/</a>) and log in with the credentials &ldquo;demo / demo&rdquo;.
Click on the <button class="btn btn-xs">
  <i class="glyphicon glyphicon-list-alt" ></i> Start process
</button>
 button to start a process instance for the <em>Payment Retrieval</em> Process.
Next, set variables for the process instance using the generic form as we learned in the <em>User Tasks</em> section.</p>
<figure class="image">
  <span><img
      src="../img/start-form-generic.png"
       /></span>
</figure>

<p>Fill in the form as shown in the screenshot and make sure you use an amount that is larger or equal to 1000 in order to see the User Task <em>Approve Payment</em>.
When you are done, click <em>Start</em>.</p>
<p>You should see the <em>Approve Payment</em> task when you click on <em>All Tasks</em>. In this quick start, we&rsquo;re logged into Tasklist as an admin user, and so we can see all tasks associated with our processes. However, it&rsquo;s possible to create <a href="/manual/latest/webapps/tasklist/filters/">filters in Tasklist</a> to determine which users can see which tasks based on <a href="/manual/latest/webapps/admin/authorization-management/">user authorization</a> as well as other criteria.</p>
<p>To work on the task, select the <em>Form</em> tab and check the <em>approved</em> checkbox so that our payment retrieval gets approved.
We should see that our worker prints something to the console.</p>
<p>Next, repeat the same steps, and this time, reject the payment. You should also create one instance with an amount less than 1000 to confirm that the first gateway works correctly.</p>

<div class="note bg-info docs-info">
  <h3>Next Step</h3>
  <p>Now you&rsquo;re ready for Decision Automation. Let&rsquo;s have a look how you can <a href="/get-started/quick-start/decision-automation/">add Business Rules to your Process</a>.</p>
</div>


<div class="panel-group gs-download-step-panel" id="gitStep-4">
  <div class="panel panel-success">
    <div class="panel-heading">
      <div class="pull-right">
        <a class="btn btn-success gs-download-step-btn" href="https://github.com/cibseven/cibseven-get-started-quickstart/archive/Step-4.zip">
          <span i class="glyphicon glyphicon-download-alt"></span>
          Source Code Step-4
        </a>
      </div>
      <h4>Catch up: Get the Sources of Step-4.</h4>
      <p class="text-muted">
        <a href="https://github.com/cibseven/cibseven-get-started-quickstart/archive/Step-4.zip">Download as .zip</a>
        or checkout the corresponding tag with <a class="toggle-instructions">Git</a>.
      </p>
    </div>
    <div class="panel-body">
      <p>You can checkout the current state from the <a href="https://github.com/cibseven/cibseven-get-started-quickstart">GitHub repository</a>.</p>
      <p>If you have not cloned the repository yet, please execute the following command:
      <pre class="console">git clone https://github.com/cibseven/cibseven-get-started-quickstart.git</pre>
      </p>
      <p>
      To checkout the current state of the process application please execute the following command:
      <pre class="console">git checkout -f Step-4</pre>
      Or download as archive from <a href="https://github.com/cibseven/cibseven-get-started-quickstart/releases/tag/Step-4">here</a>.
      </p>
    </div>
  </div>
</div>


    </div>
  </div>
</div>

<div class="page-toc">
  <h3>On this Page:</h3>
  <nav id="TableOfContents"></nav>
  <div class="docs-banner" style="display:none">
 :(
</div>

</div>


    
    <footer class="page-footer">
      <div class="row">
        <div class="col-xs-12">

          <p class="pull-right">
            <a href="#" target="_self">Back to top</a>
          </p>

          <p>
            <a href="http://cibseven.org">cibseven.org</a> and <a href="http://docs.cibseven.org">docs.cibseven.org</a> are part of CIB seven project — <a href="https://www.cib.de/en/privacy-policy/">Privacy Statement</a> – <a href="https://www.cib.de/en/legal-advice/">CIB software GmbH</a>
            <br/>The CIB seven documentation is based on <a href="https://docs.camunda.org/">Camunda 7 Docs</a> from Camunda. Some redesign & naming adoptation was made.
          </p>
          <p>
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a> The content on this site is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
          </p>
        </div>
      </div>
    </footer>
  </div>


  

  <script type="text/javascript" src="/get-started/js/docs.f2c4b7c6c0f26856db0d2a99f49b8f70f5c29f4fac61b696eee23a7f5b23fa62.js" integrity="sha256-8sS3xsDyaFbbDSqZ9JuPcPXCn0&#43;sYbaW7uI6f1sj&#43;mI="></script>
</body>
</html>

