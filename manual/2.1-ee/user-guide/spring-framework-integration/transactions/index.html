<!DOCTYPE html>
<html class="no-js">
<head>
  
  <meta charset="utf-8" />

  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <meta name="viewport" content="width=device-width" />

  <meta name="description" content="documentation of CIB seven" />
  <meta name="keywords" content="camunda, cib seven, open source, free, Apache License, Apache 2.0, workflow, BPMN, BPMN 2.0, camunda.org, bpm, BPMS, engine, platform, process, automation, community, documentation" />
  <meta name="author" content="CIB software, CIB seven community" />
  

  <title>Spring Transaction Integration | docs.cibseven.org</title>

  <meta name="generator" content="Hugo 0.136.4">
  <link rel="shortcut icon" href="/manual/2.1-ee/img/favicon.ico" type="image/x-icon" />

  

  <link rel="stylesheet" href="/manual/2.1-ee/css/docs.4514ad9d3348b03834bdeeb55c9ba0c48ac8456db7fba0ef125ec832d89ed339.css" integrity="sha256-RRStnTNIsDg0ve61XJugxIrIRW23&#43;6DvEl7IMtie0zk=">
  <link rel="canonical" href="https://docs.cibseven.org/manual/2.1-ee/user-guide/spring-framework-integration/transactions/" />
</head>
<body class="">

<nav class="navbar navbar-fixed-top">
  <div class="navbar-container">
    <div class="navbar-header">
      <a href="/manual/2.1-ee/" id="logolink">
      <img src="/manual/2.1-ee/img/logo.png" style="padding:0 5px 7px 0;max-width:75%">
        <span class="site-name">Docs</span>
      </a>
    </div>

    <ul class="header-menu">
      
      <li  ><a href="/get-started">Get Started</a></li>
      
      <li  class="active"  ><a href="/manual">CIB seven</a></li>
      
      <li  ><a href="/ins7ght">CIB ins7ght</a></li>
      
      <li  ><a href="/security">Security</a></li>
      
    </ul>

    <button class="site-menu-toggle">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="search-field">
      <input type="search" class="search-input" placeholder="Search…" />
    </div>

    <ul class="external-menu">
      <li class="external"><a href="https://cibseven.org">cibseven.org</a></li>
    </ul>
  </div>
</nav>

<div class="search-results">
  <ul class="results-list">
  </ul>
  <footer>
    <button class="btn btn-default page previous">
      <span class="glyphicon glyphicon-chevron-left"></span>
    </button>

    <button class="search-close btn btn-default">
      <span class="glyphicon glyphicon-remove"></span>
    </button>

    <button class="btn btn-default page next">
      <span class="glyphicon glyphicon-chevron-right"></span>
    </button>
  </footer>
</div>

<div class="search-underlay"></div>

<nav class="site-menu">
  




<div class="version versioned">
    
      
    
       <span class="name">CIB seven</span> 
    
      
    
      
    

    <span class="number">2.1-ee/ce&#43;</span>
</div>


<ul class="site-menu-items">
  
    
  <li>
    
      <a href="/manual/2.1-ee/introduction/" >Introduction</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/introduction/downloading-cibseven/" >Download</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/introduction/licenses/" >Licenses</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/introduction/implemented-standards/" >Implemented Standards</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/introduction/architecture/" >Architecture Overview</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/introduction/supported-environments/" >Supported Environments</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/introduction/extensions/" >Extensions</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/introduction/third-party-libraries/" >Third-Party Libraries</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/introduction/third-party-libraries/cibseven-bpm-platform-license-book/" >CIB seven License Book</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/introduction/public-api/" >Public API</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/manual/2.1-ee/user-guide/" >User Guide</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/" >Process Engine</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/process-engine-bootstrapping/" >Process Engine Bootstrapping</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/process-engine-api/" >Process Engine API</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/process-engine-concepts/" >Process Engine Concepts</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/variables/" >Process Variables</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/process-instance-modification/" >Process Instance Modification</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/process-instance-restart/" >Process Instance Restart</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/delegation-code/" >Delegation Code</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/expression-language/" >Expression Language</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/expression-language/friendly-enough-expression-language/" >Friendly Enough Expression Language</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/expression-language/unified-expression-language/" >Unified Expression Language</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/scripting/" >Scripting</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/templating/" >Templating</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/securing-custom-code/" >Custom Code &amp; Security</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/external-tasks/" >External Tasks</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/connectors/" >Connectors</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/process-versioning/" >Process Versioning</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/process-instance-migration/" >Process Instance Migration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/database/" >Database</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/database/database-schema/" >Database Schema</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/database/database-configuration/" >Database Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/database/mssql-configuration/" >Microsoft SQL Server and Azure SQL Database Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/database/mysql-configuration/" >MySQL Database Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/database/performance/" >Performance</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/history/" >History</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/history/history-configuration/" >History configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/history/user-operation-log/" >User operation log</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/history/history-cleanup/" >History cleanup</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/history/custom-implementation/" >Custom implementation</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/deployment-cache/" >Deployment Cache</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/password-hashing/" >Password Hashing</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/password-policy/" >Password Policy</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/transactions-in-processes/" >Transactions in Processes</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/the-job-executor/" >The Job Executor</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/multi-tenancy/" >Multi-Tenancy</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/id-generator/" >Id Generators</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/metrics/" >Metrics</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/incidents/" >Incidents</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/process-engine-plugins/" >Process Engine Plugins</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/identity-service/" >Identity Service</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/authorization-service/" >Authorization Service</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/deployments/" >Deployments</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/process-diagram-api/" >Process Diagram Visualization</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/time-zones/" >Time zones</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/decisions/" >Decisions</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/decisions/configuration/" >Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/decisions/repository/" >Repository</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/decisions/decision-service/" >Decision Service</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/decisions/bpmn-cmmn/" >Decisions in BPMN &amp; CMMN</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/decisions/history/" >History</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/batch/" >Batch</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/batch-operations/" >Batch operations</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/error-handling/" >Error Handling</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-engine/diagnostics-data/" >Diagnostics data</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-applications/" >Process Applications</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-applications/the-process-application-class/" >The Process Application class</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-applications/the-processes-xml-deployment-descriptor/" >The processes.xml Deployment Descriptor</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-applications/process-application-event-listeners/" >Process Application Event Listeners</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-applications/process-application-resources/" >Process Application Resource Access</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/process-applications/maven-archetypes/" >Maven Project Templates (Archetypes)</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/runtime-container-integration/" >Runtime Container Integration</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/runtime-container-integration/bpm-platform-services/" >CIB seven Services</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/runtime-container-integration/jndi-bindings-for-bpmn-platform-services/" >JNDI Bindings for CIB seven Services</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/runtime-container-integration/tomcat/" >Apache Tomcat</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/runtime-container-integration/jboss/" >WildFly</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/runtime-container-integration/job-execution-with-managed-resources/" >Job Execution with Managed Resources</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/cibseven-run/" >CIB seven Run</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-framework-integration/" >Spring Framework Integration</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-framework-integration/configuration/" >Bootstrapping</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-framework-integration/transactions/" >Transactions</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-framework-integration/deployment/" >Deployment</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-framework-integration/expressions/" >Spring Bean Resolving</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-framework-integration/testing/" >Testing</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-boot-integration/" >Spring Boot Integration</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-boot-integration/version-compatibility/" >Version Compatibility</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-boot-integration/configuration/" >Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-boot-integration/rest-api/" >REST API</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-boot-integration/webapps/" >Web Applications</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-boot-integration/process-applications/" >Process Applications</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-boot-integration/the-spring-event-bridge/" >Spring Eventing Bridge</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-boot-integration/develop-and-test/" >Developing and Testing</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/spring-boot-integration/spring-security/" >Spring Security OAuth2 Integration</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/quarkus-integration/" >Quarkus Integration</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/quarkus-integration/version-compatibility/" >Version Compatibility</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/quarkus-integration/configuration/" >Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/quarkus-integration/cdi-integration/" >Engine CDI Integration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/quarkus-integration/deployments/" >Resource Deployments</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/cdi-java-ee-integration/" >CDI and Java EE Integration</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/cdi-java-ee-integration/jta-transaction-integration/" >JTA Transaction Integration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/cdi-java-ee-integration/expression-resolving/" >Expression Resolving</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/cdi-java-ee-integration/contextual-programming-model/" >Contextual Programming Model</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/cdi-java-ee-integration/built-in-beans/" >Built-In Beans</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/cdi-java-ee-integration/the-cdi-event-bridge/" >CDI Event Bridge</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/testing/" >Testing</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/testing/assert-examples/" >Assert Examples</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/" >Model API</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/bpmn-model-api/" >BPMN Model API</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/bpmn-model-api/read-a-model/" >Read a Model</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/bpmn-model-api/create-a-model/" >Create a Model</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/bpmn-model-api/delegation-code/" >Delegation Code</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/bpmn-model-api/fluent-builder-api/" >Fluent Builder API</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/bpmn-model-api/respository-service/" >Repository Service</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/bpmn-model-api/extension-elements/" >Extension Elements</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/cmmn-model-api/" >CMMN Model API</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/cmmn-model-api/read-a-model/" >Read a Model</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/cmmn-model-api/create-a-model/" >Create a Model</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/cmmn-model-api/delegation-code/" >Delegation Code</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/cmmn-model-api/repository-service/" >Repository Service</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/cmmn-model-api/extension-elements/" >Extension Elements</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/cmmn-model-api/limitations/" >Limitations</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/dmn-model-api/" >DMN Model API</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/dmn-model-api/read-a-model/" >Read a Model</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/dmn-model-api/create-a-model/" >Create a Model</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/dmn-model-api/repository-service/" >Repository Service</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/model-api/dmn-model-api/extension-attributes/" >Extension Attributes</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/data-formats/" >Data Formats (XML, JSON, Other)</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/data-formats/configuring-spin-integration/" >Configuring Spin Integration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/data-formats/data-formats-in-processes/" >Data Formats in Processes</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/data-formats/xml/" >XML</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/data-formats/json/" >JSON</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/task-forms/" >User Task Forms</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/task-forms/jsf-task-forms/" >JSF Task Forms</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/" >DMN Engine</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/embed/" >Embed</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/evaluate-decisions/" >Evaluate Decisions</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/expressions-and-scripts/" >Expressions</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/feel/" >FEEL Engine</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/feel/type-handling/" >Type Handling</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/feel/custom-functions/" >Custom Functions</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/feel/spin-integration/" >Spin Integration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/feel/legacy-behavior/" >Legacy Behavior</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/data-types/" >Data Types</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/dmn-engine/testing/" >Testing</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/logging/" >Logging</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/security/" >Security Instructions</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/license-use/" >CIB seven License Keys</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/ext-client/" >External Task Client</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/ext-client/spring-boot-starter/" >Spring Boot Starter</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/user-guide/ext-client/compatibility-matrix/" >Version Compatibility</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/manual/2.1-ee/reference/" >Reference</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/" >REST API</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/overview/" >Overview</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/overview/authentication/" >Configure Authentication</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/overview/distro-use/" >Usage with a Pre-Built Distribution</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/overview/embeddability/" >Embed the API</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/overview/hal/" >Hypertext Application Language (HAL)</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/overview/variables/" >Variables in the REST API</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/overview/date-format/" >Date Format</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/openapi/" >OpenAPI</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/specification/" >Specification ↗</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/rest/swagger/" >Swagger ↗</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/javadoc/" >Javadoc ↗</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/" >BPMN 2.0</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/tasks/" >Tasks</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/tasks/service-task/" >Service Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/tasks/send-task/" >Send Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/tasks/user-task/" >User Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/tasks/business-rule-task/" >Business Rule Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/tasks/script-task/" >Script Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/tasks/receive-task/" >Receive Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/tasks/manual-task/" >Manual Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/tasks/task-markers/" >Task Markers</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/gateways/" >Gateways</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/gateways/exclusive-gateway/" >Data-based Exclusive Gateway (XOR)</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/gateways/sequence-flow/" >Conditional and Default Sequence Flows</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/gateways/parallel-gateway/" >Parallel Gateway</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/gateways/inclusive-gateway/" >Inclusive Gateway</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/gateways/event-based-gateway/" >Event-based Gateway</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/" >Events</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/start-events/" >Start Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/none-events/" >None Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/message-events/" >Message Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/timer-events/" >Timer Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/error-events/" >Error Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/escalation-events/" >Escalation Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/signal-events/" >Signal Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/cancel-and-compensation-events/" >Cancel and Compensation Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/conditional-events/" >Conditional Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/link-events/" >Link Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/events/terminate-event/" >Terminate Events</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/subprocesses/" >Subprocess</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/subprocesses/embedded-subprocess/" >Embedded Subprocess</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/subprocesses/call-activity/" >Call Activity</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/subprocesses/event-subprocess/" >Event Subprocess</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/subprocesses/transaction-subprocess/" >Transaction Subprocess</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/custom-extensions/" >Extension Reference</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/custom-extensions/extension-elements/" >Extension Elements</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/bpmn20/custom-extensions/extension-attributes/" >Extension Attributes</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/" >DMN 1.3</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/decision-table/" >Decision Table</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/decision-table/input/" >Input</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/decision-table/output/" >Output</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/decision-table/rule/" >Rule</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/decision-table/hit-policy/" >Hit Policy</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/decision-literal-expression/" >Decision Literal Expression</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/drg/" >Decision Requirements Graph</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/feel/" >FEEL</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/feel/legacy/" >Legacy FEEL Reference</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/feel/legacy/data-types/" >Data Types</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/feel/legacy/language-elements/" >Language Elements</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/custom-extensions/" >Extension Reference</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/dmn/custom-extensions/camunda-attributes/" >Extension Attributes</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/" >CMMN 1.1</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/api/classic-vs-fluent/" >Classic vs Fluent API</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/concepts/" >CMMN Concepts</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/concepts/plan-items/" >Plan Items and Item Definitions</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/concepts/lifecycle/" >Plan Item Lifecycles</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/concepts/entry-exit-criteria/" >Entry and Exit Criteria</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/tasks/" >Tasks</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/tasks/human-task/" >Human Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/tasks/process-task/" >Process Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/tasks/case-task/" >Case Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/tasks/decision-task/" >Decision Task</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/grouping-tasks/" >Grouping Tasks</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/grouping-tasks/stage/" >Stage</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/milestone/" >Milestones</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/sentry/" >Sentries</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/markers/" >Markers</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/markers/manual-activation-rule/" >Manual Activation Rule</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/markers/required-rule/" >Required Rule</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/markers/auto-complete/" >Auto Complete</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/markers/repetition-rule/" >Repetition Rule</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/custom-extensions/" >Extension Reference</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/custom-extensions/camunda-elements/" >Extension Elements</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/custom-extensions/camunda-attributes/" >Extension Attributes</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/migration/" >Migration between Specification Versions</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/cmmn11/migration/10-to-11/" >1.0 to 1.1</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/" >Forms</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/" >Embedded Forms</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/controls/" >Controls</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/controls/inputs/" >Text Inputs</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/controls/textarea/" >Textareas</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/controls/date-inputs/" >Date Inputs</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/controls/boolean-inputs/" >Boolean Inputs</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/controls/select/" >Selects</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/controls/hidden/" >Hidden Input Fields</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/controls/files/" >File Upload and Download</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/controls/bpmn-buttons/" >BPMN Event Buttons</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/javascript/" >Javascript</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/javascript/cam-script/" >The cam-script Directive</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/javascript/api/" >Available API</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/javascript/lifecycle/" >Participating in the Form Lifecycle</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/javascript/debugging/" >Debugging Scripts</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/javascript/generating-businesskey/" >Generating a Business Key</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/javascript/examples/" >Examples</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/lifecycle/" >Lifecycle and Events</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/json-data/" >Working with Json Data</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/java-objects/" >Working with Java Objects</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/integrate/" >Integrating the Forms SDK</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/integrate/getting-a-distribution/" >Getting a Distribution</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/integrate/bootstrapping/" >Bootstrapping</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/integrate/angular-js/" >AngularJS Integration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/embedded-forms/integrate/full-examples/" >Full Example</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/forms/camunda-forms/" >Camunda Forms</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/" >Spin Dataformats</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/xml/" >XML</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/xml/01-reading-xml/" >Reading XML</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/xml/02-manipulating-xml/" >Manipulating XML</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/xml/03-writing-xml/" >Writing XML</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/xml/04-querying-xml/" >Querying XML</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/xml/05-mapping-xml/" >Mapping XML</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/xml/06-configuring-xml/" >Configuring XML Handling</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/json/" >JSON</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/json/01-reading-json/" >Reading JSON</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/json/02-writing-json/" >Writing JSON</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/json/03-querying-json/" >Querying JSON</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/json/04-mapping-json/" >Mapping JSON</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/json/05-configuring-json/" >Configuring JSON Handling</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/spin/extending-spin/" >Extending Spin</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/connect/" >Connectors</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/connect/http-connector/" >HTTP Connector</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/connect/soap-connector/" >SOAP Connector</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/connect/extending-connect/" >Extending Connect</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/deployment-descriptors/" >Deployment Descriptors</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/deployment-descriptors/descriptors/bpm-platform-xml/" >bpm-platform.xml</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/deployment-descriptors/descriptors/processes-xml/" >processes.xml</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/deployment-descriptors/tags/" >Tags</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/deployment-descriptors/tags/job-executor/" >&lt;job-executor /&gt;</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/deployment-descriptors/tags/process-archive/" >&lt;process-archive /&gt;</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/reference/deployment-descriptors/tags/process-engine/" >&lt;process-engine /&gt;</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/manual/2.1-ee/installation/" >Installation</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/database-schema/" >Database Schema</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/cibseven-run/" >Remote Engine Distribution</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/full/" >Shared Engine Distribution</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/full/tomcat/" >Tomcat</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/full/tomcat/pre-packaged/" >Pre-Packaged Distribution</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/full/tomcat/manual/" >Manual Installation</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/full/tomcat/configuration/" >Configuration</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/full/jboss/" >JBoss EAP/WildFly</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/full/jboss/manual/" >Manual Installation</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/full/jboss/configuration/" >Configuration</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/docker/" >Docker</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/installation/spring-boot/" >Spring Boot</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/manual/2.1-ee/webapps/" >Web Applications</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/tasklist/" >Tasklist</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/tasklist/working-with-tasklist/" >Working with Tasklist</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/tasklist/dashboard/" >Dashboard</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/tasklist/filters/" >Filters</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/tasklist/user-assignment/" >User Assignment</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/tasklist/task-lifecycle/" >Task Lifecycle</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/tasklist/tasklist-plugins/" >Plugins</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/tasklist/configuration/" >Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/tasklist/accessibility/" >Accessibility</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/" >Cockpit</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/dashboard/" >Dashboard</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/" >Processes</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/dashboard/" >Process Management</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/process-definition-view/" >Process Definition View</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/process-instance-view/" >Process Instance View</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/process-instance-history-view/" >Process History View</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/process-modification/" >Process Modification</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/process-instance-migration/" >Process Instance Migration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/process-instance-restart/" >Process Restart</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/failed-jobs/" >Failed Jobs</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/suspension/" >Suspension</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/drilldown/" >Collapsed Subprocesses</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/dmn/" >Decisions</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/dmn/dashboard/" >Dashboard</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/dmn/decision-definition-view/" >Decision Definition View</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/dmn/decision-instance-view/" >Decision Instance View</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/bpmn/batch/" >Batch Operations</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/tasks-dashboard/" >Human Tasks</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/deployment-view/" >Deployments</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/extend/" >Extending</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/extend/configuration/" >Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/cockpit/extend/plugins/" >Plugins</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/admin/" >Admin</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/admin/user-management/" >Users</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/admin/group-management/" >Groups</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/admin/tenant-management/" >Tenants</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/admin/authorization-management/" >Authorizations</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/admin/system-management/" >System</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/admin/configuration/" >Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/admin/plugins/" >Plugins</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/welcome/" >Welcome</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/welcome/welcome-plugins/" >Plugins</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/welcome/configuration/" >Configuration</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/shared-options/" >Shared Configuration Options</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/shared-options/authentication/" >Authentication</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/shared-options/cookie-security/" >Cookie Security</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/shared-options/csrf-prevention/" >CSRF Prevention</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/shared-options/header-security/" >HTTP Header Security</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/webapps/configuration-options/" >Configuration</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/manual/2.1-ee/examples/" >Examples</a>
    
  </li>

  
    
  <li>
    
      <a href="/manual/2.1-ee/notices/" >Notices</a>
    
  </li>

  
    
  <li>
    
      <a href="/manual/2.1-ee/update/" >Update &amp; Migration</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/update/minor/" >Minor Version Update</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/update/minor/20-to-21/" >2.0 to 2.1</a>
      <ul>
        
          
  <li>
    
      <a href="/manual/2.1-ee/update/minor/20-to-21/tomcat/" >Tomcat</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/update/minor/20-to-21/jboss/" >WildFly / JBoss EAP</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/update/rolling-update/" >Rolling Update</a>
    
  </li>

        
          
  <li>
    
      <a href="/manual/2.1-ee/update/camunda/" >Camunda Migration</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/manual/2.1-ee/release-notes/" >Release Notes</a>
    
  </li>

  
</ul>


</nav>

<div class="page-wrapper">


<div class="page-content">
  <div class="container-fluid">
    <div class="col-xs-12 content-header">
      <h1 class="page-title">Spring Transaction Integration</h1>
    </div>

    <div class="col-xs-12 content-text">
      
<h2 id="transaction-integration-by-example">Transaction Integration by Example</h2>
<p>The following explains the <a href="https://github.com/cibseven/cibseven-bpm-platform/blob/v1.1.0/engine-spring/core/src/test/java/org/cibseven/bpm/engine/spring/test/transaction/SpringTransactionIntegrationTest.java">SpringTransactionIntegrationTest</a> of the core codebase step by step. Below is the Spring configuration file that we use in this example (you can find it in <a href="https://github.com/cibseven/cibseven/blob/v.1.1.0/engine-spring/core/src/test/resources/org/cibseven/bpm/engine/spring/test/transaction/SpringTransactionIntegrationTest-context.xml">SpringTransactionIntegrationTest-context.xml</a>). The section shown below contains the <code>dataSource</code>, <code>transactionManager</code>, <code>processEngine</code> and the process engine services.</p>
<p>When passing the DataSource to the <code>SpringProcessEngineConfiguration</code> (using property &ldquo;dataSource&rdquo;), the CIB seven engine uses a <code>org.springframework.jdbc.datasource.TransactionAwareDataSourceProxy</code> internally, which wraps the passed DataSource. This is done to make sure the SQL connections retrieved from the DataSource and the Spring transactions play well together. This implies that it&rsquo;s no longer needed to proxy the dataSource yourself in Spring configuration, although it&rsquo;s still allowed to pass a <code>TransactionAwareDataSourceProxy</code> into the <code>SpringProcessEngineConfiguration</code>. In this case no additional wrapping will occur.</p>
<p>Make sure when declaring a <code>TransactionAwareDataSourceProxy</code> in Spring configuration yourself, that you don&rsquo;t use it for resources that are already aware of Spring-transactions (e.g., <code>DataSourceTransactionManager</code> and <code>JPATransactionManager</code> need the un-proxied dataSource).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">&#34;http://www.springframework.org/schema/beans&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="na">xmlns:context=</span><span class="s">&#34;http://www.springframework.org/schema/context&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="na">xmlns:tx=</span><span class="s">&#34;http://www.springframework.org/schema/tx&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;dataSource&#34;</span> <span class="na">class=</span><span class="s">&#34;org.springframework.jdbc.datasource.SimpleDriverDataSource&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;driverClass&#34;</span> <span class="na">value=</span><span class="s">&#34;org.h2.Driver&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;url&#34;</span> <span class="na">value=</span><span class="s">&#34;jdbc:h2:mem:camunda;DB_CLOSE_DELAY=1000&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;username&#34;</span> <span class="na">value=</span><span class="s">&#34;sa&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;password&#34;</span> <span class="na">value=</span><span class="s">&#34;&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/bean&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;transactionManager&#34;</span> <span class="na">class=</span><span class="s">&#34;org.springframework.jdbc.datasource.DataSourceTransactionManager&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;dataSource&#34;</span> <span class="na">ref=</span><span class="s">&#34;dataSource&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/bean&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;processEngineConfiguration&#34;</span> <span class="na">class=</span><span class="s">&#34;org.cibseven.bpm.engine.spring.SpringProcessEngineConfiguration&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;dataSource&#34;</span> <span class="na">ref=</span><span class="s">&#34;dataSource&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;transactionManager&#34;</span> <span class="na">ref=</span><span class="s">&#34;transactionManager&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;databaseSchemaUpdate&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;jobExecutorActivate&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/bean&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;processEngine&#34;</span> <span class="na">class=</span><span class="s">&#34;org.cibseven.bpm.engine.spring.ProcessEngineFactoryBean&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;processEngineConfiguration&#34;</span> <span class="na">ref=</span><span class="s">&#34;processEngineConfiguration&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/bean&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;repositoryService&#34;</span> <span class="na">factory-bean=</span><span class="s">&#34;processEngine&#34;</span> <span class="na">factory-method=</span><span class="s">&#34;getRepositoryService&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;runtimeService&#34;</span> <span class="na">factory-bean=</span><span class="s">&#34;processEngine&#34;</span> <span class="na">factory-method=</span><span class="s">&#34;getRuntimeService&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;taskService&#34;</span> <span class="na">factory-bean=</span><span class="s">&#34;processEngine&#34;</span> <span class="na">factory-method=</span><span class="s">&#34;getTaskService&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;historyService&#34;</span> <span class="na">factory-bean=</span><span class="s">&#34;processEngine&#34;</span> <span class="na">factory-method=</span><span class="s">&#34;getHistoryService&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;managementService&#34;</span> <span class="na">factory-bean=</span><span class="s">&#34;processEngine&#34;</span> <span class="na">factory-method=</span><span class="s">&#34;getManagementService&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  ...
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/beans&gt;</span>
</span></span></code></pre></div>
<div class="note bg-warning docs-warning">
  <h3></h3>
  <p>The <code>processEngineConfiguration</code> attributes <code>transactionManager</code> and <code>dataSource</code> must be configured consistently,
i.e. the <code>transactionManager</code> bean must actually manage the data source. If that is not the case, the process engine will use auto-commit mode for the data source connection, potentially leading to inconsistencies in the database.</p>
</div>

<p>The remainder of that Spring configuration file contains the beans and configuration that we&rsquo;ll use in this particular example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;beans&gt;</span>
</span></span><span class="line"><span class="cl">  ...
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;tx:annotation-driven</span> <span class="na">transaction-manager=</span><span class="s">&#34;transactionManager&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;userBean&#34;</span> <span class="na">class=</span><span class="s">&#34;org.cibseven.bpm.engine.spring.test.UserBean&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;runtimeService&#34;</span> <span class="na">ref=</span><span class="s">&#34;runtimeService&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/bean&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&#34;printer&#34;</span> <span class="na">class=</span><span class="s">&#34;org.cibseven.bpm.engine.spring.test.Printer&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/beans&gt;</span>
</span></span></code></pre></div><p>First, the application context is created with any of the Spring ways to do that. In this example you could use a classpath XML resource to configure our Spring application context:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">ClassPathXmlApplicationContext</span><span class="w"> </span><span class="n">applicationContext</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&#34;mytest/SpringTransactionIntegrationTest-context.xml&#34;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>or, since it is a test:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@ContextConfiguration</span><span class="p">(</span><span class="s">&#34;classpath:mytest/SpringTransactionIntegrationTest-context.xml&#34;</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><p>Then we can get the service beans and invoke methods on them. The ProcessEngineFactoryBean will have added an extra interceptor to the services that applies <code>Propagation.REQUIRED</code> transaction semantics on the engine service methods. So, for example, we can use the repositoryService to deploy a process like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">RepositoryService</span><span class="w"> </span><span class="n">repositoryService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">RepositoryService</span><span class="p">)</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&#34;repositoryService&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">String</span><span class="w"> </span><span class="n">deploymentId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repositoryService</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">.</span><span class="na">createDeployment</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">.</span><span class="na">addClasspathResource</span><span class="p">(</span><span class="s">&#34;mytest/hello.bpmn20&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">.</span><span class="na">addClasspathResource</span><span class="p">(</span><span class="s">&#34;mytest/hello.png&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">.</span><span class="na">deploy</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">.</span><span class="na">getId</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><p>The other way around also works. In this case, the Spring transaction will be around the <code>userBean.hello()</code> method and the engine service method invocation will join that same transaction.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">UserBean</span><span class="w"> </span><span class="n">userBean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">UserBean</span><span class="p">)</span><span class="w"> </span><span class="n">applicationContext</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&#34;userBean&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">userBean</span><span class="p">.</span><span class="na">hello</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><p>The <code>UserBean</code> looks like this. Remember from above in the Spring bean configuration we injected the repositoryService into the userBean.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UserBean</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">// injected by Spring</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">RuntimeService</span><span class="w"> </span><span class="n">runtimeService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nd">@Transactional</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">hello</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// here you can do transactional stuff in your domain model</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// and it will be combined in the same transaction as</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// the startProcessInstanceByKey to the RuntimeService</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">runtimeService</span><span class="p">.</span><span class="na">startProcessInstanceByKey</span><span class="p">(</span><span class="s">&#34;helloProcess&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setRuntimeService</span><span class="p">(</span><span class="n">RuntimeService</span><span class="w"> </span><span class="n">runtimeService</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">runtimeService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">runtimeService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div>
<h2 id="using-inner-spring-transactions">Using Inner Spring Transactions</h2>
<p>When engine API calls are executed in the Spring context, Spring doesn&rsquo;t
make it transparent to the Process Engine when nested API calls need to
be executed in a separate transaction (the <code>Propagation.REQUIRES_NEW</code>
transaction behavior). This doesn&rsquo;t play well with how the Process Engine
Context is used to separate transaction data described in detail in
<a href="/manual/2.1-ee/user-guide/process-engine/transactions-in-processes/#transactions-and-the-process-engine-context">Transactions and the Process Engine Context</a>.
Due to this, if the inner transaction fails, the changes made by the engine
API calls are still committed to the CIB seven database.</p>
<p>A solution for this is to explicitly declare to the Process Engine that
a new Process Engine Context is to be created, where all the following
Engine API calls will store their changes for the database. In case the
inner transaction fails, the changes in this new Process Engine Context
will be reverted.</p>
<p>The Process Engine Context must be declared whenever a Spring
<code>Propagation.REQUIRES_NEW</code> inner transaction is defined in an already
running transaction.</p>

<h3 id="example">Example</h3>
<p>In the following code-snippet, we can see a Spring <code>Propagation.REQUIRED</code>
transaction, defined on the <code>execute</code> method, and a Spring <code>Propagation.REQUIRES_NEW</code>
transaction, defined on the <code>InnerProcessServiceImpl#startInnerProcess</code> method.
The <code>InnerProcessServiceImpl#startInnerProcess</code> method is called through
the <code>execute</code> method, resulting in an inner transaction.We can also assume
that, in the <code>startProcessInstanceByKey</code> engine API call, some custom code
continues to execute in the inner transaction, and throws an exception.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Transactional</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;transactionManager&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Propagation</span><span class="p">.</span><span class="na">REQUIRED</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="n">DelegateExecution</span><span class="w"> </span><span class="n">execution</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">innerProcessService</span><span class="p">.</span><span class="na">startInnerProcess</span><span class="p">(</span><span class="n">execution</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// noop</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cm">/* InnerProcessService implementation */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InnerProcessServiceImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">InnerProcessService</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nd">@Transactional</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;transactionManager&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">propagation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Propagation</span><span class="p">.</span><span class="na">REQUIRES_NEW</span><span class="p">,</span><span class="w"> </span><span class="n">rollbackFor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">Throwable</span><span class="p">.</span><span class="na">class</span><span class="p">})</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">startInnerProcess</span><span class="p">(</span><span class="n">DelegateExecution</span><span class="w"> </span><span class="n">execution</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">execution</span><span class="p">.</span><span class="na">getProcessEngineServices</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">.</span><span class="na">getRuntimeService</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">.</span><span class="na">startProcessInstanceByKey</span><span class="p">(</span><span class="s">&#34;EXAMPLE_PROCESS&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// custom code continues</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>In a case like this one, since Spring doesn&rsquo;t make the Process Engine aware that the <code>startProcessInstanceByKey</code>
engine API call is executed in a new, inner transaction, when the custom code
fails, the Spring inner transaction will be rolled back, but the data
from the started Process Instance data will be committed with the outer
transaction.</p>
<p>The described problem can be solved through the static methods of the
<code>org.cibseven.bpm.engine.context.ProcessEngineContext</code> class. First, we
call the <code>ProcessEngineContext.requiresNew()</code> method to  declare that a
new Context is required. Finally, we call the <code>ProcessEngineContext.clear()</code>
method to clear the declaration for a new Process Engine Context. This
is important since a new Process Engine Context will be declared for each
following engine API call until the <code>ProcessEngineContext#clear</code> method
is called.</p>
<p>Using a <code>try-finally</code> block is recommended to ensure that the <code>ProcessEngineContext</code>
static methods are called and cleared even in the presence of exceptions.
Below, you can find the solution applied to the <code>startProcessInstanceByKey</code>
engine API call of the example above:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">// declare new Process Engine Context</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">ProcessEngineContext</span><span class="p">.</span><span class="na">requiresNew</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">// call engine APIs</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">execution</span><span class="p">.</span><span class="na">getProcessEngineServices</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">getRuntimeService</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">startProcessInstanceByKey</span><span class="p">(</span><span class="s">&#34;EXAMPLE_PROCESS&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">// clear declaration for new Process Engine Context</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">ProcessEngineContext</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div>
    </div>
  </div>
</div>

<div class="page-toc">
  <h3>On this Page:</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#transaction-integration-by-example">Transaction Integration by Example</a></li>
    <li><a href="#using-inner-spring-transactions">Using Inner Spring Transactions</a>
      <ul>
        <li><a href="#example">Example</a></li>
      </ul>
    </li>
  </ul>
</nav>
  <div class="docs-banner" style="display:none">
 :(
</div>

</div>


    
    <footer class="page-footer">
      <div class="row">
        <div class="col-xs-12">

          <p class="pull-right">
            <a href="#" target="_self">Back to top</a>
          </p>

          <p>
            <a href="http://cibseven.org">cibseven.org</a> and <a href="http://docs.cibseven.org">docs.cibseven.org</a> are part of CIB seven project — <a href="https://www.cib.de/en/privacy-policy/">Privacy Statement</a> – <a href="https://www.cib.de/en/legal-advice/">CIB software GmbH</a>
            <br/>The CIB seven documentation is based on <a href="https://docs.camunda.org/">Camunda 7 Docs</a> from Camunda. Some redesign & naming adoptation was made.
          </p>
          <p>
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a> The content on this site is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
          </p>
        </div>
      </div>
    </footer>
  </div>


  

  <script type="text/javascript" src="/manual/2.1-ee/js/docs.39f584f7385fbb9e5e3c39b5e3aa08ef6edc341004893361450d669a3dab2ffd.js" integrity="sha256-OfWE9zhfu55ePDm146oI727cNBAEiTNhRQ1mmj2rL/0="></script>
</body>
</html>

