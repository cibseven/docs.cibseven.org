<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Wed Nov 06 16:02:36 UTC 2024 -->
<title>LegacyBehavior (CIB seven Javadocs 7.22.0-cibseven)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-11-06">
<meta name="description" content="declaration: package: org.camunda.bpm.engine.impl.pvm.runtime, class: LegacyBehavior">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/LegacyBehavior.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.camunda.bpm.engine.impl.pvm.runtime</a></div>
<h1 title="Class LegacyBehavior" class="title">Class LegacyBehavior</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.camunda.bpm.engine.impl.pvm.runtime.LegacyBehavior</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">LegacyBehavior</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">This class encapsulates legacy runtime behavior for the process engine.
<p>
 Since 7.3 the behavior of certain bpmn elements has changed slightly.
<p>

 1. Some elements which did not used to be scopes are now scopes:
 <ul>
  <li>Sequential multi instance Embedded Subprocess: is now a scope, used to be non-scope.</li>
  <li>Event subprocess: is now a scope, used to be non-scope.</li>
 </ul>

 2. In certain situations, executions which were both scope and concurrent were created.
 This used to be the case if a scope execution already had a single scope child execution
 and then concurrency was introduced (by a on interrupting boundary event or
 a non-interrupting event subprocess).  In that case the existing scope execution
 was made concurrent. Starting from 7.3 this behavior is considered legacy.
 The new behavior is that the existing scope execution will not be made concurrent, instead,
 a new, concurrent execution will be created and be interleaved between the parent and the
 existing scope execution.
<p></div>
<dl class="notes">
<dt>Since:</dt>
<dd>7.3</dd>
<dt>Author:</dt>
<dd>Daniel Meyer</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">LegacyBehavior</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#areEqualEventSubscriptions(org.camunda.bpm.engine.impl.persistence.entity.EventSubscriptionEntity,org.camunda.bpm.engine.impl.persistence.entity.EventSubscriptionEntity)" class="member-name-link">areEqualEventSubscriptions</a><wbr>(<a href="../../persistence/entity/EventSubscriptionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">EventSubscriptionEntity</a>&nbsp;subscription1,
 <a href="../../persistence/entity/EventSubscriptionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">EventSubscriptionEntity</a>&nbsp;subscription2)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks if the parameters are the same apart from the execution id</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#cancelConcurrentScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl,org.camunda.bpm.engine.impl.pvm.PvmActivity)" class="member-name-link">cancelConcurrentScope</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution,
 <a href="../PvmActivity.html" title="interface in org.camunda.bpm.engine.impl.pvm">PvmActivity</a>&nbsp;cancelledScopeActivity)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Cancels an execution which is both concurrent and scope.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>,<wbr><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createActivityExecutionMapping(java.util.List,java.util.List)" class="member-name-link">createActivityExecutionMapping</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;&nbsp;scopeExecutions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>&gt;&nbsp;scopes)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates an activity execution mapping, when the scope hierarchy and the execution hierarchy are out of sync.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createMissingHistoricVariables(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">createMissingHistoricVariables</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">See #CAM-10978
 Use case process instance with <code>asyncBefore</code> startEvent
 After unifying the history variable's creation<br>
 The following changed:<br>
   * variables will receive the <code>processInstanceId</code> as <code>activityInstanceId</code> in such cases (previously was the startEvent id)<br>
   * historic details have new <code>initial</code> property to track initial variables that process is started with<br>
 The jobs created prior <code>7.13</code> and not executed before do not have historic information of variables.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#destroyConcurrentScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">destroyConcurrentScope</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Destroys a concurrent scope Execution.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#destroySecondNonScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">destroySecondNonScope</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Destroy an execution for an activity that was previously not a scope and now is
 (e.g.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#determinePropagatingExecutionOnEnd(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl,java.util.Map)" class="member-name-link">determinePropagatingExecutionOnEnd</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;propagatingExecution,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>,<wbr><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;&nbsp;activityExecutionMapping)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Tolerates the broken execution trees fixed with CAM-3727 where there may be more
 ancestor scope executions than ancestor flow scopes;

 In that case, the argument execution is removed, the parent execution of the argument
 is returned such that one level of mismatch is corrected.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ensureConcurrent(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">ensureConcurrent</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ensureConcurrentScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">ensureConcurrentScope</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#ensureScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">ensureScope</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#eventSubprocessComplete(org.camunda.bpm.engine.impl.pvm.delegate.ActivityExecution)" class="member-name-link">eventSubprocessComplete</a><wbr>(<a href="../delegate/ActivityExecution.html" title="interface in org.camunda.bpm.engine.impl.pvm.delegate">ActivityExecution</a>&nbsp;scopeExecution)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#eventSubprocessConcurrentChildExecutionEnded(org.camunda.bpm.engine.impl.pvm.delegate.ActivityExecution,org.camunda.bpm.engine.impl.pvm.delegate.ActivityExecution)" class="member-name-link">eventSubprocessConcurrentChildExecutionEnded</a><wbr>(<a href="../delegate/ActivityExecution.html" title="interface in org.camunda.bpm.engine.impl.pvm.delegate">ActivityExecution</a>&nbsp;scopeExecution,
 <a href="../delegate/ActivityExecution.html" title="interface in org.camunda.bpm.engine.impl.pvm.delegate">ActivityExecution</a>&nbsp;endedExecution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#findCompensationThrowingAncestorExecution(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">findCompensationThrowingAncestorExecution</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getScopeExecution(org.camunda.bpm.engine.impl.pvm.process.ScopeImpl,java.util.Map)" class="member-name-link">getScopeExecution</a><wbr>(<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>&nbsp;scope,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>,<wbr><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;&nbsp;activityExecutionMapping)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">In case the process instance was migrated from a previous version, activities which are now parsed as scopes
 do not have scope executions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getTopMostScope(java.util.List)" class="member-name-link">getTopMostScope</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>&gt;&nbsp;scopes)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#hasInvalidIntermediaryActivityId(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">hasInvalidIntermediaryActivityId</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">In general, only leaf executions have activity ids.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isActivityWrappedInMultiInstanceBody(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl)" class="member-name-link">isActivityWrappedInMultiInstanceBody</a><wbr>(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isAsync(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl)" class="member-name-link">isAsync</a><wbr>(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isAsyncJobDefinition(org.camunda.bpm.engine.impl.persistence.entity.JobDefinitionEntity)" class="member-name-link">isAsyncJobDefinition</a><wbr>(<a href="../../persistence/entity/JobDefinitionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">JobDefinitionEntity</a>&nbsp;jobDefinition)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isCompensationThrowing(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">isCompensationThrowing</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isCompensationThrowing(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl,java.util.Map)" class="member-name-link">isCompensationThrowing</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>,<wbr><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;&nbsp;activityExecutionMapping)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns true if the given execution is in a compensation-throwing activity but there is no dedicated scope execution
 in the given mapping.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isConcurrentScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">isConcurrentScope</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;propagatingExecution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Concurrent + scope executions are legacy and could occur in processes with non-interrupting
 boundary events or event subprocesses</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isLegacyAsyncAtMultiInstance(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">isLegacyAsyncAtMultiInstance</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">This returns true only if the provided execution has reached its wait state in a legacy engine version, because
 only in that case, it can be async and waiting at the inner activity wrapped by the miBody.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isLegacyBehaviorRequired(org.camunda.bpm.engine.impl.pvm.delegate.ActivityExecution)" class="member-name-link">isLegacyBehaviorRequired</a><wbr>(<a href="../delegate/ActivityExecution.html" title="interface in org.camunda.bpm.engine.impl.pvm.delegate">ActivityExecution</a>&nbsp;scopeExecution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">This method</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isMultiInstanceInCompensation(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl,org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">isMultiInstanceInCompensation</a><wbr>(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity,
 <a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;scopeExecutionCandidate)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#migrateMultiInstanceJobDefinitions(org.camunda.bpm.engine.impl.persistence.entity.ProcessDefinitionEntity,java.util.List)" class="member-name-link">migrateMultiInstanceJobDefinitions</a><wbr>(<a href="../../persistence/entity/ProcessDefinitionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">ProcessDefinitionEntity</a>&nbsp;processDefinition,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../persistence/entity/JobDefinitionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">JobDefinitionEntity</a>&gt;&nbsp;jobDefinitions)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">When deploying an async job definition for an activity wrapped in an miBody, set the activity id to the
 miBody except the wrapped activity is marked as async.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#parseCancelBoundaryEvent(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl)" class="member-name-link">parseCancelBoundaryEvent</a><wbr>(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#pruneConcurrentScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">pruneConcurrentScope</a><wbr>(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Prunes a concurrent scope.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#removeLegacyNonScopesFromMapping(java.util.Map)" class="member-name-link">removeLegacyNonScopesFromMapping</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>,<wbr><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;&nbsp;mapping)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Remove all entries for legacy non-scopes given that the assigned scope execution is also responsible for another scope</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#removeLegacySubscriptionOnParent(org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity,org.camunda.bpm.engine.impl.persistence.entity.EventSubscriptionEntity)" class="member-name-link">removeLegacySubscriptionOnParent</a><wbr>(<a href="../../persistence/entity/ExecutionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">ExecutionEntity</a>&nbsp;execution,
 <a href="../../persistence/entity/EventSubscriptionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">EventSubscriptionEntity</a>&nbsp;eventSubscription)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Required for migrating active sequential MI receive tasks.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#repairMultiInstanceAsyncJob(org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity)" class="member-name-link">repairMultiInstanceAsyncJob</a><wbr>(<a href="../../persistence/entity/ExecutionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">ExecutionEntity</a>&nbsp;execution)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">When executing an async job for an activity wrapped in an miBody, set the execution to the
 miBody except the wrapped activity is marked as async.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#repairParentRelationships(java.util.Collection,java.lang.String)" class="member-name-link">repairParentRelationships</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="../../persistence/entity/ActivityInstanceImpl.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">ActivityInstanceImpl</a>&gt;&nbsp;values,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;processInstanceId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">This is relevant for <a href="../../cmd/GetActivityInstanceCmd.html" title="class in org.camunda.bpm.engine.impl.cmd"><code>GetActivityInstanceCmd</code></a> where in case of legacy multi-instance execution trees, the default
 algorithm omits multi-instance activity instances.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#signalCancelBoundaryEvent(java.lang.String)" class="member-name-link">signalCancelBoundaryEvent</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;signalName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">With prior versions, the boundary event was already executed when compensation was performed; Thus, after
 compensation completes, the execution is signalled waiting at the boundary event.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static &lt;T&gt;&nbsp;boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#valuesEqual(T,T)" class="member-name-link">valuesEqual</a><wbr>(T&nbsp;value1,
 T&nbsp;value2)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#wasNoScope(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl,org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">wasNoScope</a><wbr>(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity,
 <a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;scopeExecutionCandidate)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Determines whether the given scope was a scope in previous versions</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#wasNoScope72(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl)" class="member-name-link">wasNoScope72</a><wbr>(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#wasNoScope73(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl,org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)" class="member-name-link">wasNoScope73</a><wbr>(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity,
 <a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;scopeExecutionCandidate)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>LegacyBehavior</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">LegacyBehavior</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="pruneConcurrentScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>pruneConcurrentScope</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">pruneConcurrentScope</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
<div class="block">Prunes a concurrent scope. This can only happen if
 (a) the process instance has been migrated from a previous version to a new version of the process engine

 This is an inverse operation to <code>#createConcurrentScope(PvmExecutionImpl)</code>.

 See: javadoc of this class for note about concurrent scopes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>execution</code> - </dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancelConcurrentScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl,org.camunda.bpm.engine.impl.pvm.PvmActivity)">
<h3>cancelConcurrentScope</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cancelConcurrentScope</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution,
 <a href="../PvmActivity.html" title="interface in org.camunda.bpm.engine.impl.pvm">PvmActivity</a>&nbsp;cancelledScopeActivity)</span></div>
<div class="block">Cancels an execution which is both concurrent and scope. This can only happen if
 (a) the process instance has been migrated from a previous version to a new version of the process engine

 See: javadoc of this class for note about concurrent scopes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>execution</code> - the concurrent scope execution to destroy</dd>
<dd><code>cancelledScopeActivity</code> - the activity that cancels the execution; it must hold that
   cancellingActivity's event scope is the scope the execution is responsible for</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="destroyConcurrentScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>destroyConcurrentScope</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">destroyConcurrentScope</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
<div class="block">Destroys a concurrent scope Execution. This can only happen if
 (a) the process instance has been migrated from a previous version to a 7.3+ version of the process engine

 See: javadoc of this class for note about concurrent scopes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>execution</code> - the execution to destroy</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="eventSubprocessComplete(org.camunda.bpm.engine.impl.pvm.delegate.ActivityExecution)">
<h3>eventSubprocessComplete</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">eventSubprocessComplete</span><wbr><span class="parameters">(<a href="../delegate/ActivityExecution.html" title="interface in org.camunda.bpm.engine.impl.pvm.delegate">ActivityExecution</a>&nbsp;scopeExecution)</span></div>
</section>
</li>
<li>
<section class="detail" id="eventSubprocessConcurrentChildExecutionEnded(org.camunda.bpm.engine.impl.pvm.delegate.ActivityExecution,org.camunda.bpm.engine.impl.pvm.delegate.ActivityExecution)">
<h3>eventSubprocessConcurrentChildExecutionEnded</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">eventSubprocessConcurrentChildExecutionEnded</span><wbr><span class="parameters">(<a href="../delegate/ActivityExecution.html" title="interface in org.camunda.bpm.engine.impl.pvm.delegate">ActivityExecution</a>&nbsp;scopeExecution,
 <a href="../delegate/ActivityExecution.html" title="interface in org.camunda.bpm.engine.impl.pvm.delegate">ActivityExecution</a>&nbsp;endedExecution)</span></div>
</section>
</li>
<li>
<section class="detail" id="destroySecondNonScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>destroySecondNonScope</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">destroySecondNonScope</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
<div class="block">Destroy an execution for an activity that was previously not a scope and now is
 (e.g. event subprocess)</div>
</section>
</li>
<li>
<section class="detail" id="isLegacyBehaviorRequired(org.camunda.bpm.engine.impl.pvm.delegate.ActivityExecution)">
<h3>isLegacyBehaviorRequired</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLegacyBehaviorRequired</span><wbr><span class="parameters">(<a href="../delegate/ActivityExecution.html" title="interface in org.camunda.bpm.engine.impl.pvm.delegate">ActivityExecution</a>&nbsp;scopeExecution)</span></div>
<div class="block">This method</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>scopeExecution</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="getScopeExecution(org.camunda.bpm.engine.impl.pvm.process.ScopeImpl,java.util.Map)">
<h3>getScopeExecution</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a></span>&nbsp;<span class="element-name">getScopeExecution</span><wbr><span class="parameters">(<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>&nbsp;scope,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>,<wbr><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;&nbsp;activityExecutionMapping)</span></div>
<div class="block">In case the process instance was migrated from a previous version, activities which are now parsed as scopes
 do not have scope executions. Use the flow scopes of these activities in order to find their execution.
 - For an event subprocess this is the scope execution of the scope in which the event subprocess is embeded in
 - For a multi instance sequential subprocess this is the multi instace scope body.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>scope</code> - </dd>
<dd><code>activityExecutionMapping</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="ensureConcurrentScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>ensureConcurrentScope</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">ensureConcurrentScope</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
</section>
</li>
<li>
<section class="detail" id="ensureConcurrent(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>ensureConcurrent</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">ensureConcurrent</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
</section>
</li>
<li>
<section class="detail" id="ensureScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>ensureScope</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">ensureScope</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
</section>
</li>
<li>
<section class="detail" id="createActivityExecutionMapping(java.util.List,java.util.List)">
<h3>createActivityExecutionMapping</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>,<wbr><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;</span>&nbsp;<span class="element-name">createActivityExecutionMapping</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;&nbsp;scopeExecutions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>&gt;&nbsp;scopes)</span></div>
<div class="block">Creates an activity execution mapping, when the scope hierarchy and the execution hierarchy are out of sync.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>scopeExecutions</code> - </dd>
<dd><code>scopes</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="wasNoScope(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl,org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>wasNoScope</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">wasNoScope</span><wbr><span class="parameters">(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity,
 <a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;scopeExecutionCandidate)</span></div>
<div class="block">Determines whether the given scope was a scope in previous versions</div>
</section>
</li>
<li>
<section class="detail" id="wasNoScope72(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl)">
<h3>wasNoScope72</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">wasNoScope72</span><wbr><span class="parameters">(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity)</span></div>
</section>
</li>
<li>
<section class="detail" id="wasNoScope73(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl,org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>wasNoScope73</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">wasNoScope73</span><wbr><span class="parameters">(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity,
 <a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;scopeExecutionCandidate)</span></div>
</section>
</li>
<li>
<section class="detail" id="isMultiInstanceInCompensation(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl,org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>isMultiInstanceInCompensation</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isMultiInstanceInCompensation</span><wbr><span class="parameters">(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity,
 <a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;scopeExecutionCandidate)</span></div>
</section>
</li>
<li>
<section class="detail" id="isLegacyAsyncAtMultiInstance(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>isLegacyAsyncAtMultiInstance</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLegacyAsyncAtMultiInstance</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
<div class="block">This returns true only if the provided execution has reached its wait state in a legacy engine version, because
 only in that case, it can be async and waiting at the inner activity wrapped by the miBody. In versions >= 7.3,
 the execution would reference the multi-instance body instead.</div>
</section>
</li>
<li>
<section class="detail" id="determinePropagatingExecutionOnEnd(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl,java.util.Map)">
<h3>determinePropagatingExecutionOnEnd</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a></span>&nbsp;<span class="element-name">determinePropagatingExecutionOnEnd</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;propagatingExecution,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>,<wbr><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;&nbsp;activityExecutionMapping)</span></div>
<div class="block">Tolerates the broken execution trees fixed with CAM-3727 where there may be more
 ancestor scope executions than ancestor flow scopes;

 In that case, the argument execution is removed, the parent execution of the argument
 is returned such that one level of mismatch is corrected.

 Note that this does not necessarily skip the correct scope execution, since
 the broken parent-child relationships may be anywhere in the tree (e.g. consider a non-interrupting
 boundary event followed by a subprocess (i.e. scope), when the subprocess ends, we would
 skip the subprocess's execution).</div>
</section>
</li>
<li>
<section class="detail" id="isConcurrentScope(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>isConcurrentScope</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isConcurrentScope</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;propagatingExecution)</span></div>
<div class="block">Concurrent + scope executions are legacy and could occur in processes with non-interrupting
 boundary events or event subprocesses</div>
</section>
</li>
<li>
<section class="detail" id="removeLegacySubscriptionOnParent(org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity,org.camunda.bpm.engine.impl.persistence.entity.EventSubscriptionEntity)">
<h3>removeLegacySubscriptionOnParent</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeLegacySubscriptionOnParent</span><wbr><span class="parameters">(<a href="../../persistence/entity/ExecutionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">ExecutionEntity</a>&nbsp;execution,
 <a href="../../persistence/entity/EventSubscriptionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">EventSubscriptionEntity</a>&nbsp;eventSubscription)</span></div>
<div class="block"><p>Required for migrating active sequential MI receive tasks. These activities were formerly not scope,
 but are now. This has the following implications:

 <p>Before migration:
 <ul><li> the event subscription is attached to the miBody scope execution</ul>

 <p>After migration:
 <ul><li> a new subscription is created for every instance
 <li> the new subscription is attached to a dedicated scope execution as a child of the miBody scope
   execution</ul>

 <p>Thus, this method removes the subscription on the miBody scope</div>
</section>
</li>
<li>
<section class="detail" id="areEqualEventSubscriptions(org.camunda.bpm.engine.impl.persistence.entity.EventSubscriptionEntity,org.camunda.bpm.engine.impl.persistence.entity.EventSubscriptionEntity)">
<h3>areEqualEventSubscriptions</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">areEqualEventSubscriptions</span><wbr><span class="parameters">(<a href="../../persistence/entity/EventSubscriptionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">EventSubscriptionEntity</a>&nbsp;subscription1,
 <a href="../../persistence/entity/EventSubscriptionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">EventSubscriptionEntity</a>&nbsp;subscription2)</span></div>
<div class="block">Checks if the parameters are the same apart from the execution id</div>
</section>
</li>
<li>
<section class="detail" id="valuesEqual(T,T)">
<h3 id="valuesEqual(java.lang.Object,java.lang.Object)">valuesEqual</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">valuesEqual</span><wbr><span class="parameters">(T&nbsp;value1,
 T&nbsp;value2)</span></div>
</section>
</li>
<li>
<section class="detail" id="removeLegacyNonScopesFromMapping(java.util.Map)">
<h3>removeLegacyNonScopesFromMapping</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeLegacyNonScopesFromMapping</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>,<wbr><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;&nbsp;mapping)</span></div>
<div class="block">Remove all entries for legacy non-scopes given that the assigned scope execution is also responsible for another scope</div>
</section>
</li>
<li>
<section class="detail" id="getTopMostScope(java.util.List)">
<h3>getTopMostScope</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a></span>&nbsp;<span class="element-name">getTopMostScope</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>&gt;&nbsp;scopes)</span></div>
</section>
</li>
<li>
<section class="detail" id="repairParentRelationships(java.util.Collection,java.lang.String)">
<h3>repairParentRelationships</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">repairParentRelationships</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="../../persistence/entity/ActivityInstanceImpl.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">ActivityInstanceImpl</a>&gt;&nbsp;values,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;processInstanceId)</span></div>
<div class="block">This is relevant for <a href="../../cmd/GetActivityInstanceCmd.html" title="class in org.camunda.bpm.engine.impl.cmd"><code>GetActivityInstanceCmd</code></a> where in case of legacy multi-instance execution trees, the default
 algorithm omits multi-instance activity instances.</div>
</section>
</li>
<li>
<section class="detail" id="migrateMultiInstanceJobDefinitions(org.camunda.bpm.engine.impl.persistence.entity.ProcessDefinitionEntity,java.util.List)">
<h3>migrateMultiInstanceJobDefinitions</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">migrateMultiInstanceJobDefinitions</span><wbr><span class="parameters">(<a href="../../persistence/entity/ProcessDefinitionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">ProcessDefinitionEntity</a>&nbsp;processDefinition,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../persistence/entity/JobDefinitionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">JobDefinitionEntity</a>&gt;&nbsp;jobDefinitions)</span></div>
<div class="block">When deploying an async job definition for an activity wrapped in an miBody, set the activity id to the
 miBody except the wrapped activity is marked as async.

 Background: in &lt;= 7.2 async job definitions were created for the inner activity, although the
 semantics are that they are executed before the miBody is entered</div>
</section>
</li>
<li>
<section class="detail" id="isAsync(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl)">
<h3>isAsync</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isAsync</span><wbr><span class="parameters">(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity)</span></div>
</section>
</li>
<li>
<section class="detail" id="isAsyncJobDefinition(org.camunda.bpm.engine.impl.persistence.entity.JobDefinitionEntity)">
<h3>isAsyncJobDefinition</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isAsyncJobDefinition</span><wbr><span class="parameters">(<a href="../../persistence/entity/JobDefinitionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">JobDefinitionEntity</a>&nbsp;jobDefinition)</span></div>
</section>
</li>
<li>
<section class="detail" id="isActivityWrappedInMultiInstanceBody(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl)">
<h3>isActivityWrappedInMultiInstanceBody</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isActivityWrappedInMultiInstanceBody</span><wbr><span class="parameters">(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity)</span></div>
</section>
</li>
<li>
<section class="detail" id="repairMultiInstanceAsyncJob(org.camunda.bpm.engine.impl.persistence.entity.ExecutionEntity)">
<h3>repairMultiInstanceAsyncJob</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">repairMultiInstanceAsyncJob</span><wbr><span class="parameters">(<a href="../../persistence/entity/ExecutionEntity.html" title="class in org.camunda.bpm.engine.impl.persistence.entity">ExecutionEntity</a>&nbsp;execution)</span></div>
<div class="block">When executing an async job for an activity wrapped in an miBody, set the execution to the
 miBody except the wrapped activity is marked as async.

 Background: in &lt;= 7.2 async jobs were created for the inner activity, although the
 semantics are that they are executed before the miBody is entered</div>
</section>
</li>
<li>
<section class="detail" id="signalCancelBoundaryEvent(java.lang.String)">
<h3>signalCancelBoundaryEvent</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">signalCancelBoundaryEvent</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;signalName)</span></div>
<div class="block">With prior versions, the boundary event was already executed when compensation was performed; Thus, after
 compensation completes, the execution is signalled waiting at the boundary event.</div>
</section>
</li>
<li>
<section class="detail" id="parseCancelBoundaryEvent(org.camunda.bpm.engine.impl.pvm.process.ActivityImpl)">
<h3>parseCancelBoundaryEvent</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">parseCancelBoundaryEvent</span><wbr><span class="parameters">(<a href="../process/ActivityImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ActivityImpl</a>&nbsp;activity)</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#signalCancelBoundaryEvent(java.lang.String)"><code>signalCancelBoundaryEvent(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasInvalidIntermediaryActivityId(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>hasInvalidIntermediaryActivityId</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasInvalidIntermediaryActivityId</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
<div class="block"><p>In general, only leaf executions have activity ids.</p>
 <p>Exception to that rule: compensation throwing executions.</p>
 <p>Legacy exception (&lt;= 7.2) to that rule: miBody executions and parallel gateway executions</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true, if the argument is not a leaf and has an invalid (i.e. legacy) non-null activity id</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isCompensationThrowing(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl,java.util.Map)">
<h3>isCompensationThrowing</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCompensationThrowing</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../process/ScopeImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.process">ScopeImpl</a>,<wbr><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&gt;&nbsp;activityExecutionMapping)</span></div>
<div class="block">Returns true if the given execution is in a compensation-throwing activity but there is no dedicated scope execution
 in the given mapping.</div>
</section>
</li>
<li>
<section class="detail" id="isCompensationThrowing(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>isCompensationThrowing</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCompensationThrowing</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
</section>
</li>
<li>
<section class="detail" id="findCompensationThrowingAncestorExecution(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>findCompensationThrowingAncestorExecution</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a></span>&nbsp;<span class="element-name">findCompensationThrowingAncestorExecution</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
</section>
</li>
<li>
<section class="detail" id="createMissingHistoricVariables(org.camunda.bpm.engine.impl.pvm.runtime.PvmExecutionImpl)">
<h3>createMissingHistoricVariables</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createMissingHistoricVariables</span><wbr><span class="parameters">(<a href="PvmExecutionImpl.html" title="class in org.camunda.bpm.engine.impl.pvm.runtime">PvmExecutionImpl</a>&nbsp;execution)</span></div>
<div class="block">See #CAM-10978
 Use case process instance with <code>asyncBefore</code> startEvent
 After unifying the history variable's creation<br>
 The following changed:<br>
   * variables will receive the <code>processInstanceId</code> as <code>activityInstanceId</code> in such cases (previously was the startEvent id)<br>
   * historic details have new <code>initial</code> property to track initial variables that process is started with<br>
 The jobs created prior <code>7.13</code> and not executed before do not have historic information of variables.
 This method takes care of that.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024 <a href="https://www.cib.de/">CIB software GmbH</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
